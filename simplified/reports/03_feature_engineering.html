<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   Notebook
  </title>
  <link href="https://gitcdn.link/cdn/henriquebferreira/faceit-predictor-ML/master/src/notebooks/style.css" rel="stylesheet"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js">
  </script>
  <!-- Load mathjax -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-MML-AM_CHTML-full,Safe">
  </script>
  <!-- MathJax configuration -->
  <script type="text/x-mathjax-config">
   init_mathjax = function() {
        if (window.MathJax) {
        // MathJax loaded
            MathJax.Hub.Config({
                TeX: {
                    equationNumbers: {
                    autoNumber: "AMS",
                    useLabelIds: true
                    }
                },
                tex2jax: {
                    inlineMath: [ ['$','$'], ["\\(","\\)"] ],
                    displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
                    processEscapes: true,
                    processEnvironments: true
                },
                displayAlign: 'center',
                CommonHTML: {
                    linebreaks: { 
                    automatic: true 
                    }
                },
                "HTML-CSS": {
                    linebreaks: { 
                    automatic: true 
                    }
                }
            });
        
            MathJax.Hub.Queue(["Typeset", MathJax.Hub]);
        }
    }
    init_mathjax();
  </script>
  <!-- End of mathjax configuration -->
 </head>
 <body class="jp-Notebook" data-jp-theme-light="true" data-jp-theme-name="JupyterLab Light">
  <div class="jp-Cell-inputWrapper">
   <div class="jp-InputPrompt jp-InputArea-prompt">
   </div>
   <div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
    <h1 style="color:#ff5500; font-family:Play; font-size:3em; margin:auto 32px;align:center">
     Part III - Feature Engineering
    </h1>
    <hr/>
   </div>
  </div>
  <div class="jp-Cell-inputWrapper">
   <div class="jp-InputPrompt jp-InputArea-prompt">
   </div>
   <div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
    <p>
     This document is a part of the FACEIT Predictor Data Science Workflow.
    </p>
    <p>
     In this notebook several features are created and stored for the whole dataset.
    </p>
   </div>
  </div>
  <div class="jp-Cell-inputWrapper">
   <div class="jp-InputPrompt jp-InputArea-prompt">
   </div>
   <div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
    <h1 id="Imports">
     Imports
     <a class="anchor-link" href="#Imports">
      ¶
     </a>
    </h1>
   </div>
  </div>
  <div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
   <div class="jp-Cell-inputWrapper">
    <div class="jp-InputArea jp-Cell-inputArea">
     <div class="jp-InputPrompt jp-InputArea-prompt">
      In [5]:
     </div>
     <div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
      <div class="CodeMirror cm-s-jupyter">
       <div class="highlight hl-ipython3">
        <pre><span></span><span class="c1"># enable imports from parent directory</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span><span class="o">.</span><span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="p">))</span>

<span class="c1"># local modules</span>
<span class="kn">from</span> <span class="nn">src.features.featurize</span> <span class="kn">import</span> <span class="n">featurize</span>

<span class="kn">from</span> <span class="nn">IPython</span> <span class="kn">import</span> <span class="n">get_ipython</span>

<span class="n">ipython</span> <span class="o">=</span> <span class="n">get_ipython</span><span class="p">()</span>

<span class="c1"># autoreload extension</span>
<span class="k">if</span> <span class="s2">"autoreload"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">ipython</span><span class="o">.</span><span class="n">extension_manager</span><span class="o">.</span><span class="n">loaded</span><span class="p">:</span>
   <span class="o">%</span><span class="k">load_ext</span> autoreload

<span class="c1"># autoreload python modules</span>
<span class="o">%</span><span class="k">autoreload</span> 2
</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
  </div>
  <div class="jp-Cell-inputWrapper">
   <div class="jp-InputPrompt jp-InputArea-prompt">
   </div>
   <div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
    <h1 id="Featurization">
     Featurization
     <a class="anchor-link" href="#Featurization">
      ¶
     </a>
    </h1>
   </div>
  </div>
  <div class="jp-Cell-inputWrapper">
   <div class="jp-InputPrompt jp-InputArea-prompt">
   </div>
   <div class="jp-RenderedHTMLCommon jp-RenderedMarkdown jp-MarkdownOutput" data-mime-type="text/markdown">
    <p>
     The features functions were initially implemented and tested in this notebook. Then they were moved to appropriate modules inside
     <code>
      src/features/
     </code>
    </p>
    <p>
     The features are divided into 4 types:
    </p>
    <ul>
     <li>
      match features
     </li>
     <li>
      lifetime features
     </li>
     <li>
      date features
     </li>
    </ul>
    <p>
     <strong>
      Match Features
     </strong>
    </p>
    <p>
     Features that are directly computed from the match configuration or from data that is available in the match document.
    </p>
    <p>
     Example:
    </p>
    <p>
     <code>
      add_feature(data, get_mean_elo)
     </code>
     <br/>
     <code>
      add_feature(data, get_num_parties)
     </code>
    </p>
    <p>
     <strong>
      Lifetime Features
     </strong>
    </p>
    <p>
     The Lifetime Features are computed from the Lifetime Stats of each player as they were immediately before the beginning of the match. The values are averaged for each team.
    </p>
    <p>
     The 5 main indicators are:
     <em>
      Number of Matches
     </em>
     ,
     <em>
      Winrate
     </em>
     ,
     <em>
      Kill/Death ratio
     </em>
     ,
     <em>
      Multikills Score
     </em>
     and
     <em>
      Rating
     </em>
     . Those are computed globally (the total value for all maps) and specifically for the map of the match (on map). Also, the preference - the on map / total ratio - is taken into account.
    </p>
    <p>
     Example:
    </p>
    <p>
     Global:
     <code>
      add_feature(data, get_mean_matches)
     </code>
     <br/>
     Specific:
     <code>
      add_feature(data, get_mean_winrate_on_map)
     </code>
     <br/>
     Preference (Specific/Global):
     <code>
      add_feature(data, get_mean_rating_map_preference)
     </code>
    </p>
    <p>
     <strong>
      Date Features
     </strong>
    </p>
    <p>
     At the time of writing, the Date Features only regard the age of the players' FACEIT accounts.
    </p>
    <p>
     Example:
    </p>
    <p>
     <code>
      add_feature(data, get_mean_created_at_faceit)
     </code>
    </p>
   </div>
  </div>
  <div class="jp-Cell jp-CodeCell jp-Notebook-cell jp-mod-noOutputs">
   <div class="jp-Cell-inputWrapper">
    <div class="jp-InputArea jp-Cell-inputArea">
     <div class="jp-InputPrompt jp-InputArea-prompt">
      In [6]:
     </div>
     <div class="jp-CodeMirrorEditor jp-Editor jp-InputArea-editor" data-type="inline">
      <div class="CodeMirror cm-s-jupyter">
       <div class="highlight hl-ipython3">
        <pre><span></span><span class="n">featurize</span><span class="p">(</span><span class="n">is_complete</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre>
       </div>
      </div>
     </div>
    </div>
   </div>
  </div>
 </body>
</html>
